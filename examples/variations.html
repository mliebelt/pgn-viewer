<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Variations</title>
    <!-- Libraries used: chessboardjs and chess.js from GitHub -->
    <script src="../chessboardjs/js/chessboard.js" type="text/javascript"></script>
    <script src="../chessboardjs/js/jquery-1.10.1.min.js" type="text/javascript"></script>
    <script src="../chessboardjs/js/json3.min.js" type="text/javascript"></script>
    <script src="../chess.js/chess.js" type="text/javascript"></script>

    <!-- CSS used: chessboardjs from GitHub -->
    <link href="../chessboardjs/css/chessboard.css" type="text/css" rel="stylesheet"/>

    <!-- My own library -->
    <script src="../js/pgnviewerjs.js" type="text/javascript"></script>
    <script src="../js/pgn.js" type="text/javascript"></script>
    <script src="../js/peg-0.8.0.js" type="text/javascript"></script>
    <script src="../js/pgn-parser.js" type="text/javascript"></script>
    <script src="../js/jquery.timer.js" type="text/javascript"></script>
    <link href="../css/pgnvjs.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h3>Some variations</h3>

<div>The following games demonstrate how variations are handled.</div>

<div id="board"></div>

<br/>

<div id="board2"></div>

<script>
    var pgn =
        ['[White "Anderssen, Adolf"][Black "Dufresne, Jean"]',
         '[Result "1-0"][ECO "C52"]',
         '[Site "Berlin"][Date "1952"]',
         '1. e4 e5 2. Nf3 Nc6  3.Bc4 Bc5 4.b4 Bxb4 5.c3 Ba5 6.d4 exd4 7.O-O d3 8.Qb3 Qf6 9.e5 Qg6 10.Re1 Nge7 11.Ba3 b5 12.Qxb5 Rb8 13.Qa4 Bb6 14.Nbd2 Bb7 15.Ne4 Qf5 16.Bxd3 Qh5 { now the whole idea unfolds } 17.Nf6+ gxf6 18.exf6 Rg8 19.Rad1 {This move sets a deep trap, which Black falls into. Lasker and others have suggested that} (19.Be4 {was objectively stronger; however, after the forcing line} Qh3 20.g3 Rxg3+ 21.hxg3 Qxg3+ 22. Kh1 Bxf2 23. Bxe7 Qh3+ 24. Nh2 Bxe1 25. Rxe1 Qh4 26. Qd1 Nxe7 27. Bxb7 Qxf6 {it is unclear whether White is winning}) Qxf3 20.Rxe7+ Nxe7 21.Qxd7+ Kxd7 22.Bf5+ Ke8 23.Bd7+ Kf8 24. Bxe7# 1:0'].join(" ");
    pgnv = pgnView("board", {pgn: pgn, position: "start", theme: 'chesscom'});
    pgn = "1. e4 Nf6 2. e5 Nd5 3. d4 d6 4. c4 Nb6 5. Nf3 Nc6 6. exd6 cxd6 7. Nc3 g6 8. Nd5 {ein grober Fehler, der sofort einen Bauern verliert} Nxd5 9. cxd5 Qa5+ 10. Bd2 Qxd5 11. Qa4 Bg7 12. Bc4 {Weiß stellt sich immer schlechter} Qe4+ 13. Be3 d5 14. Bb5 {sieht nach Bauernrückgewinn aus} O-O 15. Bxc6 bxc6 16. Qxc6 {der Bauer ist vergiftet} Bg4 17. O-O (17. Nh4 Qd3 18. Nf3 (18. f3 Qxe3+ 19. Kf1 Bxd4) 18... Rac8 19. Qa4 Bxf3 20. gxf3 Rc2 {kostet die Dame}) 17... Bxf3 18. gxf3 Qxf3 {ist noch am Besten für Weiß} 19. Qd7 e6 20. Rfc1 Bxd4 21. Bxd4 Qg4+ { kostet den zweiten Bauern} 22. Kf1 Qxd4 23. b3 Rfd8 24. Qb7 e5 25. Rd1 Qb6 26.  Qe7 Qd6 {jeder Abtausch hilft} 27. Qxd6 Rxd6 28. Rd2 Rc8 29. Re1 f6 30. Red1 d4 31. f4 Kf7 32. fxe5 fxe5 33. Ke2 Ke6 34. a4 Rc3 35. Rd3 Rxd3 36. Kxd3 Rc6 37.  Rb1 Rc3+ 38. Kd2 Rh3 39. b4 Kd5 40. a5 Rxh2+ 41. Kc1 Kc4 {und Weiß hat nichts mehr} 42. Rb2 Rxb2 43. Kxb2 Kxb4 {höchste Zeit, aufzugeben} 44. Kc2 e4 45. Kd2 Kb3 46. a6 Kb2 47. Ke2 Kc2 48. Ke1 d3 49. Kf2 d2 50. Kg3 d1=Q 51. Kf4 Qd5 52.  Kg3 Qe5+ 53. Kf2 Kd2 54. Kg2 Ke2 55. Kh3 Kf2 56. Kg4 Qg3#";
    pgnv = pgnView("board2", {pgn: pgn, position: "start", theme: 'chesscom', headers: false});
</script>


</body>
</html>